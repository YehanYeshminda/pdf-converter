<mat-toolbar color="primary" class="top-toolbar" role="banner">
    <div class="brand">
        <mat-icon class="brand-icon">picture_as_pdf</mat-icon>
        <span class="brand-title">File Converter</span>
    </div>
    <span class="spacer"></span>

    <div class="visitor-counter" matTooltip="Total visitors to this site">
        <mat-icon class="visitor-icon">visibility</mat-icon>
        <span *ngIf="visitorCount >= 0">{{ visitorCount | number }}</span>
        <span *ngIf="visitorCount < 0" class="loading-count">loading...</span>
    </div>

    <mat-slide-toggle class="theme-toggle" [checked]="isDark" (change)="toggleTheme()" matTooltip="Toggle dark mode">
        <mat-icon>{{ isDark ? 'dark_mode' : 'light_mode' }}</mat-icon>
    </mat-slide-toggle>

    <button mat-icon-button aria-label="About" class="icon-btn" matTooltip="Built with ❤️ by YYDev.">
        <mat-icon>info</mat-icon>
    </button>
</mat-toolbar>

<div class="container">
    <mat-card class="main-card">
        <div class="card-header">
            <h1>File Converter - PDFs, Images & Base64</h1>
            <p class="subtitle">Fast, local, and privacy-first file conversion tools. Choose a converter below to get started.</p>
        </div>

        <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="center" class="tabs" (selectedTabChange)="onTabChange($event)">
            <mat-tab label="PDF">
                <div class="tab-content">
                    <h2>PDF Converter</h2>
                    <p>Convert PDF files to images or vice versa with our secure, client-side converter.</p>
                    <app-pdf-converter [onTabChange]="onChangeTab"></app-pdf-converter>
                </div>
            </mat-tab>
            <mat-tab label="Image">
                <div class="tab-content">
                    <h2>Image Converter</h2>
                    <p>Transform images between different formats or convert them to PDF documents.</p>
                    <app-image-converter [onTabChange]="onChangeTab"></app-image-converter>
                </div>
            </mat-tab>

            <mat-tab label="Batch Base64 Converter">
                <div class="tab-content">
                    <h2>Batch Base64 Converter</h2>
                    <p>Encode multiple files to Base64 or decode Base64 strings back to files in batch.</p>
                    <app-batch-base64-converter></app-batch-base64-converter>
                </div>
            </mat-tab>

            <mat-tab label="Image Compression">
                <div class="tab-content">
                    <h2>Image Compression</h2>
                    <p>Compress your images to reduce file size while maintaining quality.</p>
                    <app-image-compress></app-image-compress>
                </div>
            </mat-tab>
        </mat-tab-group>

        <mat-divider></mat-divider>
        <div class="card-footer">
            <small>Tip: For large files, conversion may take longer — progress will show inside each converter.</small>
        </div>
    </mat-card>
</div>
